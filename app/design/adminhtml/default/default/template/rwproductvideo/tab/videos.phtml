<?php/** * RocketWeb * * NOTICE OF LICENSE * * This source file is subject to the Open Software License (OSL 3.0) * that is bundled with this package in the file LICENSE.txt. * It is also available through the world-wide-web at this URL: * http://opensource.org/licenses/osl-3.0.php * * @category   design_default * @package    RocketWeb_ProductVideo * @copyright  Copyright (c) 2011 RocketWeb (http://rocketweb.com) * @license    http://opensource.org/licenses/osl-3.0.php  Open Software License (OSL 3.0) * @author     RocketWeb */?><?php	$_htmlId = 'videos';?><script type="text/javascript">//<![CDATA[	var videosControl = null;//]]></script><div id="product_info_tabs_group_videos_content">	<div class="entry-edit">		<div class="entry-edit-head">			<h4 class="icon-head head-edit-form fieldset-legend">Videos</h4>		</div>		<div class="fieldset fieldset-wide" id="group_fields_videos">			<div class="hor-scroll">				<table class="form-list" cellspacing="0">					<tbody>						<tr>							<td class="grid">								<table class="data border" id="videos_table" cellspacing="0">									<col width="200" />									<col />									<col width="150" />									<col width="150" />                                    <col width="150" />                                    <col width="150" />                                    <col width="50" />									<thead>										<tr class="headings">											<th><?php echo Mage::helper('productvideo')->__('Youtube Code') ?></th>											<th><?php echo Mage::helper('productvideo')->__('Video Title') ?></th>											<th><?php echo Mage::helper('productvideo')->__('Video Thumbnail Width') ?></th>											<th><?php echo Mage::helper('productvideo')->__('Video Thumbnail Height') ?></th>                                            <th><?php echo Mage::helper('productvideo')->__('Video Width') ?></th>											<th><?php echo Mage::helper('productvideo')->__('Video Height') ?></th>                                            <th class="last">Action</th>										</tr>									</thead>									<tbody id="videos_container">									</tbody>									<tfoot>										<tr>											<td colspan="7" class="a-right">												<button id="btn_add_video" type="button" class="scalable add" onclick="return videosControl.addItem()"><span><?php echo Mage::helper('productvideo')->__('Add Video') ?></span></button>											</td>										</tr>									</tfoot>								</table>							</td>						</tr>					</tbody>				</table>			</div>		</div>	</div></div><script type="text/javascript">//<![CDATA[var videosRowTemplate = ''+'<tr>'+'	<td>'+'		<input name="product[videos][{{index}}][id]" value="{{id}}" id="videos_row_{{index}}_id" type="hidden" />'+'		<input class="input-text required-entry" name="product[videos][{{index}}][code]" value="{{code}}" id="videos_row_{{index}}_code" type="text" />'+'	</td>'+'	<td>'+'		<input class="input-text" name="product[videos][{{index}}][title]" value="{{title}}" id="videos_row_{{index}}_title" type="text" />'+'	</td>'+'	<td>'+'		<input class="input-text validate-zero-or-greater" name="product[videos][{{index}}][thumb_width]" value="{{thumb_width}}" id="videos_row_{{index}}_thumb_width" type="text" />'+'	</td>'+'	<td>'+'      <input class="input-text validate-zero-or-greater" name="product[videos][{{index}}][thumb_height]" value="{{thumb_height}}" id="videos_row_{{index}}_thumb_height" type="text" />'+'	</td>'+'	<td>'+'      <input class="input-text validate-zero-or-greater" name="product[videos][{{index}}][width]" value="{{width}}" id="videos_row_{{index}}_width" type="text" />'+'	</td>'+'<td class="last">'+'		<input class="input-text validate-zero-or-greater" name="product[videos][{{index}}][height]" value="{{height}}" id="videos_row_{{index}}_height" type="text" />'+'	</td>'+'<td class="last">'+'		<input name="product[videos][{{index}}][delete]" class="delete" value="" id="videos_row_{{index}}_delete" type="hidden" />'+'		<button title="Delete Video" type="button" class="scalable delete icon-btn delete-product-option" id="videos_row_{{index}}_delete_button" onclick="return videosControl.deleteItem(event);"><span><?php echo Mage::helper('productvideo')->__('Delete') ?></span></button>'+'	</td>'+'</tr>';videosControl = {    template: new Template(videosRowTemplate, new RegExp('(^|.|\\r|\\n)({{\\s*(\\w+)\\s*}})', "")),    itemsCount: 0,    addItem : function () {        var data = {            id: '',            code: '',            title: '',            thumb_width: '',            thumb_height: '',            width: '',            height: '',            index: this.itemsCount++        };        if(arguments.length >= 7) {            data.id 					= arguments[0];            data.code         			= arguments[1];            data.title            	    = arguments[2];            data.thumb_width          	= arguments[3];            data.thumb_height          	= arguments[4];            data.width                  = arguments[5];            data.height               	= arguments[6];        }        Element.insert($('<?php echo $_htmlId ?>_container'), {            bottom : this.template.evaluate(data)        });        $('<?php echo $_htmlId ?>_container').select('input', 'select').each(function(el){ Event.observe(el, 'change', el.setHasChanges.bind(el)); });    },        disableElement: function(el) {        el.disabled = true;        el.addClassName('disabled');    },        deleteItem: function(event) {        var tr = Event.findElement(event, 'tr');        if (tr) {            Element.select(tr, '.delete').each(function(elem){elem.value='1'});            Element.select(tr, ['input', 'select']).each(function(elem){elem.hide()});            Element.hide(tr);            Element.addClassName(tr, 'no-display template');        }        return false;    }};<?php  foreach ($this->getVideosCollection() as $video):?>	videosControl.addItem(		'<?php echo addslashes($video->getId())?>',		'<?php echo addslashes($video->getVideoCode())?>',		'<?php echo addslashes($video->getVideoTitle())?>',		'<?php echo addslashes($video->getVideoThumbWidth())?>',		'<?php echo addslashes($video->getVideoThumbHeight())?>',        '<?php echo addslashes($video->getVideoWidth())?>',        '<?php echo addslashes($video->getVideoHeight())?>'	);<?php endforeach; ?>//]]></script>